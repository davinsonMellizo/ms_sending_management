server:
  port: ${SERVER_PORT}
  servlet:
    encoding:
      charset: UTF-8
      force: true
springdoc:
  version: 1
spring:
  application:
    name: ${APPLICATION_NAME}
  devtools:
    add-properties: false
  jackson:
    default-property-inclusion: NON_NULL
  profiles:
    active: ${SPRING_PROFILE_ACTIVE}
  webflux:
    base-path: ${PATH_BASE}
  logging:
    level:
      root: ${LOG4J_LEVEL}
      reactor:
        netty: false

app.async.withDLQRetry: true
app.async.retryDelay: 1000
app.async.maxRetries: 1

management:
  health:
    probes:
      enabled: true
  endpoint:
    health:
      show-details: "never"
      enabled: true
      cache:
        time-to-live: "10s"
  endpoints:
    web:
      exposure:
        include: "health, liveness, readiness"
      base-path: "/"
      path-mapping:
        health: "health"
        liveness: "liveness"
        readiness: "readiness"

adapters:
  postgresql:
    pool:
      initial: ${POSTGRESQL_CONN_INITIAL:2}
      max: ${POSTGRESQL_CONN_MAX:10}
  async-sqs:
    url: ${SQS_URL}
    timeout: ${SQS_TIMEOUT}
    pool-size: ${SQS_POOL_SIZE}
    region-aws: ${REGION_AWS}
  rest-client:
    timeout: 1000
    scope: scope-blm
    resources:
      endpoint-masivian-sms: https://cba15735-6e3a-478b-83b5-dc2470bca02b.mock.pstmn.io/send/alert/mail
      endpoint-masivian-mail: https://cba15735-6e3a-478b-83b5-dc2470bca02b.mock.pstmn.io/send/alert/mail
      endpoint-inalambria-sms: https://cba15735-6e3a-478b-83b5-dc2470bca02b.mock.pstmn.io/send/alert/mail
      endpoint-push: https://cba15735-6e3a-478b-83b5-dc2470bca02b.mock.pstmn.io/send/alert/mail
  secrets-manager:
    secret-rabbit: ${SECRET-RABBIT}
    secret-rds: ${SECRET-RDS}
    cache-size: ${CACHE_SECRETS_SIZE}
    cache-time: ${CACHE_SECRETS_SECONDS}
    endpoint: http://localhost:4566
  entries:
    reactive-web:
      path-base: ${PATH_BASE}
      alert: ${ALERT}
      remitter: ${REMITTER}
      provider: ${PROVIDER}
      service: ${SERVICE}
      consumer: ${CONSUMER}
      category: ${CATEGORY}
      priority: ${PRIORITY}
      send: ${SEND}
